--
-- PostgreSQL database dump
--

-- Dumped from database version 16.2
-- Dumped by pg_dump version 17.0

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: app_user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.app_user (
    id bigint NOT NULL,
    city character varying(255),
    country character varying(255),
    email character varying(255) NOT NULL,
    first_name character varying(255),
    last_name character varying(255),
    password character varying(255) NOT NULL,
    phone_no character varying(255),
    role character varying(255),
    status character varying(255),
    profile_photo_id bigint
);


ALTER TABLE public.app_user OWNER TO postgres;

--
-- Name: app_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.app_user ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.app_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: genre; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.genre (
    id bigint NOT NULL,
    name character varying(255)
);


ALTER TABLE public.genre OWNER TO postgres;

--
-- Name: genre_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.genre ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.genre_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: hall; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.hall (
    id bigint NOT NULL,
    number integer NOT NULL,
    projection_id bigint,
    venue_id bigint
);


ALTER TABLE public.hall OWNER TO postgres;

--
-- Name: hall_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.hall ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.hall_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: movie; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.movie (
    id bigint NOT NULL,
    actors character varying(255),
    director character varying(255),
    language character varying(255),
    movie_duration integer NOT NULL,
    name character varying(255),
    pg_rating character varying(255),
    projection_end_date date,
    projection_start_date date,
    synopsis character varying(255),
    trailer_link character varying(255),
    writers character varying(255)
);


ALTER TABLE public.movie OWNER TO postgres;

--
-- Name: movie_genre; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.movie_genre (
    movie_id bigint NOT NULL,
    genre_id bigint NOT NULL
);


ALTER TABLE public.movie_genre OWNER TO postgres;

--
-- Name: movie_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.movie ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.movie_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: notification; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.notification (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone,
    movie_id bigint,
    user_id bigint
);


ALTER TABLE public.notification OWNER TO postgres;

--
-- Name: notification_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.notification ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.notification_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: payment; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.payment (
    id bigint NOT NULL,
    amount integer NOT NULL,
    created_at timestamp(6) without time zone,
    dpm_checker_link character varying(255),
    reservation_id bigint,
    ticket_id bigint
);


ALTER TABLE public.payment OWNER TO postgres;

--
-- Name: payment_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.payment ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.payment_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: payment_items; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.payment_items (
    id bigint NOT NULL,
    amount integer NOT NULL,
    description character varying(255),
    payment_id bigint
);


ALTER TABLE public.payment_items OWNER TO postgres;

--
-- Name: payment_items_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.payment_items ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.payment_items_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: photo; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.photo (
    id bigint NOT NULL,
    entity_id bigint,
    entity_type character varying(255),
    role character varying(255),
    type character varying(255),
    url character varying(255)
);


ALTER TABLE public.photo OWNER TO postgres;

--
-- Name: photo_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.photo ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.photo_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: projection; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.projection (
    id bigint NOT NULL,
    projection_time time(6) without time zone,
    hall_id bigint,
    movie_id bigint,
    venue_id bigint
);


ALTER TABLE public.projection OWNER TO postgres;

--
-- Name: projection_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.projection ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.projection_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: reservation; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.reservation (
    id bigint NOT NULL,
    expiry_time timestamp(6) without time zone,
    price integer NOT NULL,
    purchase_date timestamp(6) without time zone,
    seat_no character varying(255),
    status character varying(255),
    projection_id bigint,
    user_id bigint
);


ALTER TABLE public.reservation OWNER TO postgres;

--
-- Name: reservation_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.reservation ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.reservation_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: ticket; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.ticket (
    id bigint NOT NULL,
    price integer NOT NULL,
    purchase_date timestamp(6) without time zone,
    seat_no character varying(255),
    projection_id bigint,
    user_id bigint
);


ALTER TABLE public.ticket OWNER TO postgres;

--
-- Name: ticket_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.ticket ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.ticket_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: venue; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.venue (
    id bigint NOT NULL,
    city character varying(255),
    name character varying(255),
    phone_no character varying(255),
    street character varying(255),
    street_no integer NOT NULL,
    photo_image_id bigint
);


ALTER TABLE public.venue OWNER TO postgres;

--
-- Name: venue_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.venue ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.venue_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: app_user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.app_user (id, city, country, email, first_name, last_name, password, phone_no, role, status, profile_photo_id) FROM stdin;
\.


--
-- Data for Name: genre; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.genre (id, name) FROM stdin;
1	Action
2	Adventure
3	Comedy
4	Drama
5	Horror
6	Romance
7	Thriller
8	Fantasy
9	Sci-Fi
10	Mystery
11	Crime
12	Animation
13	Documentary
14	Family
15	Musical
16	Biography
17	History
18	Sport
19	War
20	Western
\.


--
-- Data for Name: hall; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.hall (id, number, projection_id, venue_id) FROM stdin;
13	1	\N	1
14	2	\N	2
15	3	\N	3
16	4	\N	4
17	5	\N	5
18	6	\N	6
19	7	\N	1
20	8	\N	2
21	9	\N	3
22	10	\N	4
23	11	\N	5
24	12	\N	6
\.


--
-- Data for Name: movie; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.movie (id, actors, director, language, movie_duration, name, pg_rating, projection_end_date, projection_start_date, synopsis, trailer_link, writers) FROM stdin;
2	Marina Gera,Sándor Csányi,Laura Döbrösi	Attila Szász	Hungarian	110	Eternal Winter	PG-13	2024-12-31	2024-11-01	A woman is deported to a Soviet labor camp during World War II, where she learns the power of resilience and love.	https://www.youtube.com/watch?v=O9XMI-_RGYk	Norbert Köbli
3	Bill Skarsgård,Jaeden Martell,Finn Wolfhard	Andy Muschietti	English	135	IT	R	2024-12-15	2024-10-15	A group of bullied kids band together to destroy a shape-shifting monster, which disguises itself as a clown and preys on children.	https://www.youtube.com/watch?v=xKJmEC5ieOk	Chase Palmer, Cary Fukunaga, Gary Dauberman
4	Ralph Macchio,Pat Morita,Elisabeth Shue	John G. Avildsen	English	126	Karate Kid	PG	2025-02-01	2024-12-01	A teenager learns karate from an unconventional mentor to stand up against bullies and compete in a tournament.	https://www.youtube.com/watch?v=r_8Rw16uscg	Robert Mark Kamen
5	Enis Beslagic,Viktor Savic,Nina Senicar	Todor Chapkanov	Bosnian	120	Megdan	PG-13	2025-01-20	2024-12-20	A thrilling drama centered around cultural pride, conflict, and perseverance in the Balkans.	https://www.youtube.com/watch?v=L4RvOaFJGiE	Aleksa Balasevic,Jelena Balasevic,Gvozden Djuric
6	Leonardo DiCaprio,Kate Winslet,Billy Zane	James Cameron	English	195	Titanic	PG-13	2024-12-31	2024-11-01	A fictionalized account of the sinking of the RMS Titanic, focusing on the romance between Jack and Rose.	https://www.youtube.com/watch?v=kVrqfYjkTdQ	James Cameron
7	Keanu Reeves,Ian McShane,Halle Berry	Chad Stahelski	English	101	John Wick	R	2024-12-10	2024-10-10	A retired hitman is forced back into the underworld to avenge his dog and confront old foes.	https://www.youtube.com/watch?v=C0BMx-qxsP4	Derek Kolstad
8	Matthew McConaughey,Anne Hathaway,Jessica Chastain	Christopher Nolan	English	169	Interstellar	PG-13	2024-12-25	2024-11-05	A team of explorers travels through a wormhole in space in an attempt to save humanity.	https://www.youtube.com/watch?v=2LqzF5WauAw	Jonathan Nolan, Christopher Nolan
9	Al Pacino,Michelle Pfeiffer,Steven Bauer	Brian De Palma	English	170	Scarface	R	2025-02-15	2025-01-15	The rise and fall of a Cuban immigrant in Miami as he builds a drug empire.	https://www.youtube.com/watch?v=cv276Wg3e7I	Oliver Stone
10	Christian Bale,Heath Ledger,Aaron Eckhart	Christopher Nolan	English	152	The Dark Knight	PG-13	2025-02-25	2025-01-10	Batman faces his toughest challenge yet as he battles the Joker, a criminal mastermind causing chaos in Gotham City.	https://www.youtube.com/watch?v=EXeTwQWrcwY&t=3s	Jonathan Nolan,Christopher Nolan,David S. Goyer
11	John Doe,Jane Smith,Michael Brown	Anna Johnson	English	115	The Great Adventure	PG	2025-02-01	2025-01-01	A family embarks on an unforgettable journey filled with mysteries, challenges, and heartwarming moments.	https://www.youtube.com/watch?v=NhSz86YpihM&t=2s	Anna Johnson,Michael Clark
12	Leonardo DiCaprio,Jonah Hill,Margot Robbie	Martin Scorsese	English	180	The Wolf of Wall Street	R	2024-12-31	2024-11-01	The story of Jordan Belfort, a stockbroker who rises to immense wealth and power but spirals into corruption and crime.	https://www.youtube.com/watch?v=iszwuX1AK6A&t=1s	Terence Winter
\.


--
-- Data for Name: movie_genre; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.movie_genre (movie_id, genre_id) FROM stdin;
2	1
3	2
4	6
5	7
6	8
7	1
8	9
9	5
10	3
11	4
12	2
2	3
3	6
4	4
5	9
6	10
\.


--
-- Data for Name: notification; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.notification (id, created_at, movie_id, user_id) FROM stdin;
\.


--
-- Data for Name: payment; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.payment (id, amount, created_at, dpm_checker_link, reservation_id, ticket_id) FROM stdin;
\.


--
-- Data for Name: payment_items; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.payment_items (id, amount, description, payment_id) FROM stdin;
\.


--
-- Data for Name: photo; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.photo (id, entity_id, entity_type, role, type, url) FROM stdin;
7	2	movie	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=eternal-winter.jpg&version_id=null
1	1	venue	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=cinema-city.jpg&version_id=null
2	2	venue	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=cineplexx.jpg&version_id=null
3	3	venue	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=cinestar-mostar.jpg&version_id=null
4	4	venue	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=cinestar.jpeg&version_id=null
5	5	venue	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=meeting-point.jpg&version_id=null
6	6	venue	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=novi-grad.jpg&version_id=null
8	3	movie	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=it.jpg&version_id=null
9	4	movie	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=karate_kid.jpg&version_id=null
10	5	movie	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=megdan.jpg&version_id=null
11	6	movie	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=titanic.jpg&version_id=null
12	6	movie	showcase	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=titanic_2.jpg&version_id=null
13	6	movie	showcase	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=titanic_3.webp&version_id=null
14	6	movie	showcase	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=titanic_4.jpg&version_id=null
15	7	movie	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=john_wick.webp&version_id=null
16	8	movie	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=interstellar.jpg&version_id=null
17	9	movie	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=scarface.jpg&version_id=null
18	9	movie	showcase	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=scarface_1.webp&version_id=null
19	9	movie	showcase	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=scarface_2.avif&version_id=null
20	9	movie	showcase	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=scarface_3.webp&version_id=null
21	10	movie	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=the_dark_knight.jpg&version_id=null
22	11	movie	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=the_great_adventure.jpeg&version_id=null
23	12	movie	poster	image	http://127.0.0.1:9001/api/v1/buckets/images/objects/download?preview=true&prefix=the_wolf_of_wallstreet.jpg&version_id=null
\.


--
-- Data for Name: projection; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.projection (id, projection_time, hall_id, movie_id, venue_id) FROM stdin;
25	12:00:00	13	2	1
26	15:00:00	14	3	2
27	18:00:00	15	4	3
28	21:00:00	16	5	4
29	10:00:00	17	6	5
30	14:00:00	18	7	6
31	17:00:00	19	8	1
32	20:00:00	20	9	2
33	12:00:00	21	10	3
34	15:00:00	22	11	4
35	18:00:00	23	12	5
36	21:00:00	24	2	6
\.


--
-- Data for Name: reservation; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.reservation (id, expiry_time, price, purchase_date, seat_no, status, projection_id, user_id) FROM stdin;
\.


--
-- Data for Name: ticket; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.ticket (id, price, purchase_date, seat_no, projection_id, user_id) FROM stdin;
\.


--
-- Data for Name: venue; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.venue (id, city, name, phone_no, street, street_no, photo_image_id) FROM stdin;
1	Sarajevo	Cinema City	Sarajevo Cesta	123456789	21	1
2	Sarajevo	Cineplexx	Cesta	123456789	14	2
3	Mostar	Cinestar Mostar	Stari Most	123456789	33	3
4	Sarajevo	Cinestar	Rajvosa	123456789	31	4
5	Tuzla	Meeting Point	Tuzlanska Cesta	123456789	44	5
6	Sarajevo	Kino Novi Grad	Novi grad	123456789	1	6
\.


--
-- Name: app_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.app_user_id_seq', 1, false);


--
-- Name: genre_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.genre_id_seq', 20, true);


--
-- Name: hall_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.hall_id_seq', 24, true);


--
-- Name: movie_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.movie_id_seq', 12, true);


--
-- Name: notification_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.notification_id_seq', 1, false);


--
-- Name: payment_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.payment_id_seq', 1, false);


--
-- Name: payment_items_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.payment_items_id_seq', 1, false);


--
-- Name: photo_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.photo_id_seq', 23, true);


--
-- Name: projection_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.projection_id_seq', 36, true);


--
-- Name: reservation_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.reservation_id_seq', 1, false);


--
-- Name: ticket_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.ticket_id_seq', 1, false);


--
-- Name: venue_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.venue_id_seq', 6, true);


--
-- Name: app_user app_user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user
    ADD CONSTRAINT app_user_pkey PRIMARY KEY (id);


--
-- Name: genre genre_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.genre
    ADD CONSTRAINT genre_pkey PRIMARY KEY (id);


--
-- Name: hall hall_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.hall
    ADD CONSTRAINT hall_pkey PRIMARY KEY (id);


--
-- Name: movie_genre movie_genre_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.movie_genre
    ADD CONSTRAINT movie_genre_pkey PRIMARY KEY (movie_id, genre_id);


--
-- Name: movie movie_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.movie
    ADD CONSTRAINT movie_pkey PRIMARY KEY (id);


--
-- Name: notification notification_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notification
    ADD CONSTRAINT notification_pkey PRIMARY KEY (id);


--
-- Name: payment_items payment_items_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.payment_items
    ADD CONSTRAINT payment_items_pkey PRIMARY KEY (id);


--
-- Name: payment payment_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.payment
    ADD CONSTRAINT payment_pkey PRIMARY KEY (id);


--
-- Name: photo photo_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.photo
    ADD CONSTRAINT photo_pkey PRIMARY KEY (id);


--
-- Name: projection projection_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.projection
    ADD CONSTRAINT projection_pkey PRIMARY KEY (id);


--
-- Name: reservation reservation_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reservation
    ADD CONSTRAINT reservation_pkey PRIMARY KEY (id);


--
-- Name: ticket ticket_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT ticket_pkey PRIMARY KEY (id);


--
-- Name: venue uke4g4m60b6qevnfhcpb0ksycax; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.venue
    ADD CONSTRAINT uke4g4m60b6qevnfhcpb0ksycax UNIQUE (photo_image_id);


--
-- Name: app_user ukjuhtbhypktc9wl363nuesmdoi; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user
    ADD CONSTRAINT ukjuhtbhypktc9wl363nuesmdoi UNIQUE (profile_photo_id);


--
-- Name: venue venue_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.venue
    ADD CONSTRAINT venue_pkey PRIMARY KEY (id);


--
-- Name: projection fk4f9tu5v6o6fikxpytbn4gomc; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.projection
    ADD CONSTRAINT fk4f9tu5v6o6fikxpytbn4gomc FOREIGN KEY (hall_id) REFERENCES public.hall(id);


--
-- Name: movie_genre fk86p3roa187k12avqfl28klp1q; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.movie_genre
    ADD CONSTRAINT fk86p3roa187k12avqfl28klp1q FOREIGN KEY (genre_id) REFERENCES public.genre(id);


--
-- Name: hall fkc2v4ktmjj4raseyspt17o075l; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.hall
    ADD CONSTRAINT fkc2v4ktmjj4raseyspt17o075l FOREIGN KEY (venue_id) REFERENCES public.venue(id);


--
-- Name: payment_items fkcqorcqrbmvwh0q3b906vdnvrm; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.payment_items
    ADD CONSTRAINT fkcqorcqrbmvwh0q3b906vdnvrm FOREIGN KEY (payment_id) REFERENCES public.payment(id);


--
-- Name: notification fkcxbqr6g1py0j4m9qeq44h1ju6; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notification
    ADD CONSTRAINT fkcxbqr6g1py0j4m9qeq44h1ju6 FOREIGN KEY (user_id) REFERENCES public.app_user(id);


--
-- Name: venue fkdk6u2euh4h6pygrro0bfkg8yc; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.venue
    ADD CONSTRAINT fkdk6u2euh4h6pygrro0bfkg8yc FOREIGN KEY (photo_image_id) REFERENCES public.photo(id);


--
-- Name: ticket fkemcfkpg53qt9pdg5y6rtq35wf; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT fkemcfkpg53qt9pdg5y6rtq35wf FOREIGN KEY (user_id) REFERENCES public.app_user(id);


--
-- Name: ticket fkfkd2tmboe3qm5ey5ltm8wx478; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT fkfkd2tmboe3qm5ey5ltm8wx478 FOREIGN KEY (projection_id) REFERENCES public.projection(id);


--
-- Name: projection fkfq7qvxymc33m8307wc5qfpci1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.projection
    ADD CONSTRAINT fkfq7qvxymc33m8307wc5qfpci1 FOREIGN KEY (movie_id) REFERENCES public.movie(id);


--
-- Name: notification fkg5g6rfawaxud7277mrb0ye65w; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notification
    ADD CONSTRAINT fkg5g6rfawaxud7277mrb0ye65w FOREIGN KEY (movie_id) REFERENCES public.movie(id);


--
-- Name: reservation fkis48lprxmn772mgo4huqrcgln; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reservation
    ADD CONSTRAINT fkis48lprxmn772mgo4huqrcgln FOREIGN KEY (projection_id) REFERENCES public.projection(id);


--
-- Name: payment fkknnc0dgh1i8fkalxi2qcj2bwl; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.payment
    ADD CONSTRAINT fkknnc0dgh1i8fkalxi2qcj2bwl FOREIGN KEY (ticket_id) REFERENCES public.ticket(id);


--
-- Name: projection fklqaw09g85joco954dhqhvc0et; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.projection
    ADD CONSTRAINT fklqaw09g85joco954dhqhvc0et FOREIGN KEY (venue_id) REFERENCES public.venue(id);


--
-- Name: app_user fkltw4jl8teuknf9uo7j261l4h2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_user
    ADD CONSTRAINT fkltw4jl8teuknf9uo7j261l4h2 FOREIGN KEY (profile_photo_id) REFERENCES public.photo(id);


--
-- Name: reservation fkm25r28103jb9lske61acewdlf; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reservation
    ADD CONSTRAINT fkm25r28103jb9lske61acewdlf FOREIGN KEY (user_id) REFERENCES public.app_user(id);


--
-- Name: movie_genre fkp6vjabv2e2435at1hnuxg64yv; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.movie_genre
    ADD CONSTRAINT fkp6vjabv2e2435at1hnuxg64yv FOREIGN KEY (movie_id) REFERENCES public.movie(id);


--
-- Name: payment fkrewpj5f9v9xehy4ga8g221nw1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.payment
    ADD CONSTRAINT fkrewpj5f9v9xehy4ga8g221nw1 FOREIGN KEY (reservation_id) REFERENCES public.reservation(id);


--
-- Name: hall fks169k8s46gkohvpr2sh51mwya; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.hall
    ADD CONSTRAINT fks169k8s46gkohvpr2sh51mwya FOREIGN KEY (projection_id) REFERENCES public.projection(id);


--
-- PostgreSQL database dump complete
--

